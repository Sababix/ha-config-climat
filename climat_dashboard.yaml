type: custom:button-card
name: Séjour
styles:
  grid:
    - grid-template-areas: "\"temp btn2 btn1\" \"n btn2 btn1\""
    - grid-template-columns: 1fr mid-content
    - grid-template-rows: 65% 1fr
  card:
    - height: 160px
    - padding: 6px
  name:
    - justify-self: start
    - align-self: start
    - font-size: 14px
    - padding-left: 20px
  custom_fields:
    graph:
      - position: absolute
      - width: 100%
      - left: 0
      - bottom: 0
    temp:
      - justify-self: start
      - align-self: end
      - font-size: 2.6em
      - font-weight: 300
      - padding-left: 20px
custom_fields:
  btn2:
    card:
      type: custom:paper-buttons-row
      styles:
        display: flex
        flex-direction: row
        flex-wrap: nowrap
      buttons:
        - icon: mdi:power
          name: false
          ripple: none
          entity: climate.clim_salon
          tap_action:
            action: toggle
          styles:
            button:
              background: "#333"
              width: 34px
              height: 34px
              border-radius: 50% 0 0 50%
            icon:
              color: "#fff"
          state_styles:
            "off":
              button:
                background: "#333"
              icon:
                color: "#fff"
            heat:
              button:
                background: "#ffffff"
                width: 34px
                height: 34px
                border-radius: 50% 0 0 50%
              icon:
                color: "#000000"
            cool:
              button:
                background: "#ffffff"
                width: 34px
                height: 34px
                border-radius: 50% 0 0 50%
              icon:
                color: "#000000"
            fan_only:
              button:
                background: "#ffffff"
                width: 34px
                height: 34px
                border-radius: 50% 0 0 50%
              icon:
                color: "#000000"
            dry:
              button:
                background: "#ffffff"
                width: 34px
                height: 34px
                border-radius: 50% 0 0 50%
              icon:
                color: "#000000"
            auto:
              button:
                background: "#ffffff"
                width: 34px
                height: 34px
                border-radius: 50% 0 0 50%
              icon:
                color: "#000000"
        - icon: mdi:heat-wave
          name: false
          ripple: none
          entity: climate.clim_salon
          tap_action:
            action: call-service
            service: climate.set_hvac_mode
            service_data:
              entity_id: climate.clim_salon
              hvac_mode: heat
          styles:
            button:
              background: "#333"
              width: 34px
              height: 34px
              border-radius: 0
            icon:
              color: "#fff"
          state_styles:
            heat:
              button:
                background: "#ffffff"
              icon:
                color: "#000000"
        - icon: mdi:snowflake
          name: false
          ripple: none
          entity: climate.clim_salon
          tap_action:
            action: call-service
            service: climate.set_hvac_mode
            service_data:
              entity_id: climate.clim_salon
              hvac_mode: cool
          styles:
            button:
              background: "#333"
              width: 34px
              height: 34px
              border-radius: 0
            icon:
              color: "#fff"
          state_styles:
            cool:
              button:
                background: "#ffffff"
              icon:
                color: "#000000"
        - icon: mdi:fan
          name: false
          ripple: none
          entity: climate.clim_salon
          tap_action:
            action: call-service
            service: climate.set_hvac_mode
            service_data:
              entity_id: climate.clim_salon
              hvac_mode: fan_only
          styles:
            button:
              background: "#333"
              width: 34px
              height: 34px
              border-radius: 0
            icon:
              color: "#fff"
          state_styles:
            fan_only:
              button:
                background: "#ffffff"
              icon:
                color: "#000000"
  btn1:
    card:
      type: custom:paper-buttons-row
      styles:
        display: flex
        flex-direction: column
        flex-wrap: wrap
      buttons:
        - icon: mdi:chevron-up
          name: false
          ripple: none
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 50% 50% 0 0
              width: 38px
              height: 38px
              z-index: 1
        - name: 20°
          ripple: none
          styles:
            name:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0
              width: 38px
              height: 38px
              z-index: 1
        - icon: mdi:chevron-down
          name: false
          ripple: none
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0 0 50% 50%
              width: 38px
              height: 38px
              z-index: 1
  graph:
    card:
      type: custom:mini-graph-card
      entities:
        - entity: sensor.temperature_sejour
          color: "#ffffff"
      line_width: 4
      height: 60
      show:
        icon: false
        name: false
        state: false
        legend: false
        labels: false
      card_mod:
        style: |
          ha-card { border-style: none; background: none; box-shadow: none; }
  temp: |
    [[[
    return Number(states['sensor.temperature_sejour'].state).toFixed(1) + '°'
    ]]]
